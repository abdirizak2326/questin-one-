import java.util.Scanner;

class Area {
    private String name;
    private int occupants;
    private boolean[] lights; // 3 lights: index 0 = light1, index 1 = light2, index 3 = light3

    public Area(String name) {
        this.name = name;
        this.occupants = 0;
        this.lights = new boolean[3]; // all OFF initially
    }

    public String getName() {
        return name;
    }

    public int getOccupants() {
        return occupants;
    }

    public void addOccupants(int n) {
        if (n > 0) {
            occupants += n;
        }
    }

    public void removeOccupants(int n) {
        if (n > 0) {
            occupants -= n;
            if (occupants < 0) {
                occupants = 0;
            }
        }
    }

    public void switchLightOn(int lightNumber) {
        if (lightNumber >= 1 && lightNumber <= 3) {
            lights[lightNumber - 1] = true;
        }
    }

    public void switchLightOff(int lightNumber) {
        if (lightNumber >= 1 && lightNumber <= 3) {
            lights[lightNumber - 1] = false;
        }
    }

    public void reportStatus() {
        System.out.println("Area: " + name);
        System.out.println("Occupants: " + occupants);
        for (int i = 0; i < 3; i++) {
            System.out.println("Light " + (i + 1) + ": " + (lights[i] ? "ON" : "OFF"));
        }
    }
}

public class SpekeApartmentsManager {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        Area gym = new Area("Gym");
        Area pool = new Area("Swimming Pool");
        Area activeArea = gym; // default active area

        String choice;
        do {
            System.out.println("\n=== Speke Apartments Menu ===");
            System.out.println("S - Select active area (G = Gym, P = Swimming)");
            System.out.println("W - Add occupants to active area");
            System.out.println("X - Remove occupants from active area");
            System.out.println("Y - Switch ON a light (1-3) in active area");
            System.out.println("Z - Switch OFF a light (1-3) in active area");
            System.out.println("R - Report status of active area");
            System.out.println("Q - Quit program");
            System.out.print("Enter your choice: ");
            choice = scanner.nextLine().trim().toUpperCase();

            switch (choice) {
                case "S":
                    System.out.print("Select area (G = Gym, P = Swimming): ");
                    String areaChoice = scanner.nextLine().trim().toUpperCase();
                    if (areaChoice.equals("G")) {
                        activeArea = gym;
                        System.out.println("Active area set to Gym.");
                    } else if (areaChoice.equals("P")) {
                        activeArea = pool;
                        System.out.println("Active area set to Swimming Pool.");
                    } else {
                        System.out.println("Invalid area. Please select G or P.");
                    }
                    break;

                case "W":
                    int add = promptInt(scanner, "Enter number of occupants to add: ");
                    activeArea.addOccupants(add);
                    System.out.println(add + " occupants added to " + activeArea.getName());
                    break;

                case "X":
                    int remove = promptInt(scanner, "Enter number of occupants to remove: ");
                    activeArea.removeOccupants(remove);
                    System.out.println(remove + " occupants removed from " + activeArea.getName());
                    break;

                case "Y":
                    int lightOn = promptLight(scanner, "Enter light number to switch ON (1-3): ");
                    activeArea.switchLightOn(lightOn);
                    System.out.println("Light " + lightOn + " turned ON in " + activeArea.getName());
                    break;

                case "Z":
                    int lightOff = promptLight(scanner, "Enter light number to switch OFF (1-3): ");
                    activeArea.switchLightOff(lightOff);
                    System.out.println("Light " + lightOff + " turned OFF in " + activeArea.getName());
                    break;

                case "R":
                    activeArea.reportStatus();
                    break;

                case "Q":
                    System.out.println("Exiting program. Goodbye!");
                    break;

                default:
                    System.out.println("Invalid menu option. Please try again.");
            }
        } while (!choice.equals("Q"));

        scanner.close();
    }

    // Utility method to prompt for integer input with validation
    private static int promptInt(Scanner scanner, String message) {
        int number;
        while (true) {
            System.out.print(message);
            String input = scanner.nextLine().trim();
            try {
                number = Integer.parseInt(input);
                if (number < 0) {
                    System.out.println("Please enter a positive number.");
                } else {
                    break;
                }
            } catch (NumberFormatException e) {
                System.out.println("Invalid input. Enter an integer.");
            }
        }
        return number;
    }

    // Utility method to prompt for light number (1-3) with validation
    private static int promptLight(Scanner scanner, String message) {
        int light;
        while (true) {
            System.out.print(message);
            String input = scanner.nextLine().trim();
            try {
                light = Integer.parseInt(input);
                if (light >= 1 && light <= 3) {
                    break;
                } else {
                    System.out.println("Invalid light number. Enter 1, 2, or 3.");
                }
            } catch (NumberFormatException e) {
                System.out.println("Invalid input. Enter an integer 1-3.");
            }
        }
        return light;
    }
}
